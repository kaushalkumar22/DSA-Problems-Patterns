# Heap / Priority Queue Problems

1. **[215. Kth Largest Element in an Array](https://leetcode.com/problems/kth-largest-element-in-an-array/)**
2. **[502. IPO](https://leetcode.com/problems/ipo/)**
3. **[373. Find K Pairs with Smallest Sums](https://leetcode.com/problems/find-k-pairs-with-smallest-sums/)**
4. **[295. Find Median from Data Stream](https://leetcode.com/problems/find-median-from-data-stream/)**
5. **[215. Kth Largest Element in an Array](https://leetcode.com/problems/kth-largest-element-in-an-array/)**
6. **[Smallest Number in Infinite Set](https://leetcode.com/problems/smallest-number-in-infinite-set/)**
7. **[2389. Maximum Subsequence Score](https://leetcode.com/problems/maximum-subsequence-score/)**
8. **[2462. Total Cost to Hire K Workers](https://leetcode.com/problems/total-cost-to-hire-k-workers/)**
9. **[347. Top K Frequent Elements](https://leetcode.com/problems/top-k-frequent-elements/)**
10. **[264. Ugly Number II](https://leetcode.com/problems/ugly-number-ii/)**
11. **[973. K Closest Points to Origin](https://leetcode.com/problems/k-closest-points-to-origin/)**

1. **[1167. Minimum Cost to Connect Sticks](https://leetcode.com/problems/minimum-cost-to-connect-sticks/)**
2. **[373. Find K Pairs with Smallest Sums](https://leetcode.com/problems/find-k-pairs-with-smallest-sums/)**
3. **[215. Kth Largest Element in an Array](https://leetcode.com/problems/kth-largest-element-in-an-array/)**
4. **[451. Sort Characters By Frequency](https://leetcode.com/problems/sort-characters-by-frequency/)**
5. **[347. Top K Frequent Elements](https://leetcode.com/problems/top-k-frequent-elements/)**
6. **[692. Top K Frequent Words](https://leetcode.com/problems/top-k-frequent-words/)**
7. **[218. The Skyline Problem](https://leetcode.com/problems/the-skyline-problem/)**
8. **[703. Kth Largest Element in a Stream](https://leetcode.com/problems/kth-largest-element-in-a-stream/)**
9. **[1046. Last Stone Weight](https://leetcode.com/problems/last-stone-weight/)**
10. **[973. K Closest Points to Origin](https://leetcode.com/problems/k-closest-points-to-origin/)**
11. **[621. Task Scheduler](https://leetcode.com/problems/task-scheduler/)**
12. **[355. Design Twitter](https://leetcode.com/problems/design-twitter/)**
13. **[1675. Minimize Deviation in Array](https://leetcode.com/problems/minimize-deviation-in-array/)**
14. **[2542. Maximum Subsequence Score](https://leetcode.com/problems/maximum-subsequence-score/)**
15. **[1834. Single-Threaded CPU](https://leetcode.com/problems/single-threaded-cpu/)**
16. **[1845. Seat Reservation Manager](https://leetcode.com/problems/seat-reservation-manager/)**
17. **[1882. Process Tasks Using Servers](https://leetcode.com/problems/process-tasks-using-servers/)**
18. **[1985. Find the Kth Largest Integer in the Array](https://leetcode.com/problems/find-the-kth-largest-integer-in-the-array/)**
19. **[1405. Longest Happy String](https://leetcode.com/problems/longest-happy-string/)**
20. **[1094. Car Pooling](https://leetcode.com/problems/car-pooling/)**
21. **[295. Find Median from Data Stream](https://leetcode.com/problems/find-median-from-data-stream/)**
22. **[1383. Maximum Performance of a Team](https://leetcode.com/problems/maximum-performance-of-a-team/)**

1. **[215. Kth Largest Element in an Array](https://leetcode.com/problems/kth-largest-element-in-an-array/)**   
2. **[973. K Closest Points to Origin](https://leetcode.com/problems/k-closest-points-to-origin/)**   
3. **[347. Top K Frequent Elements](https://leetcode.com/problems/top-k-frequent-elements/)**   
4. **[692. Top K Frequent Words](https://leetcode.com/problems/top-k-frequent-words/)**   
5. **[264. Ugly Number II](https://leetcode.com/problems/ugly-number-ii/)**   
6. **[451. Sort Characters By Frequency](https://leetcode.com/problems/sort-characters-by-frequency/)**   
7. **[703. Kth Largest Element in a Stream](https://leetcode.com/problems/kth-largest-element-in-a-stream/)**   
8. **[767. Reorganize String](https://leetcode.com/problems/reorganize-string/)**   
9. **[358. Rearrange String k Distance Apart](https://leetcode.com/problems/rearrange-string-k-distance-apart/)**   
10. **[1439. Find the Kth Smallest Sum of a Matrix With Sorted Rows](https://leetcode.com/problems/find-the-kth-smallest-sum-of-a-matrix-with-sorted-rows/)**

### **Merge K Sorted Pattern**
1. **[23. Merge k Sorted Lists](https://leetcode.com/problems/merge-k-sorted-lists/)**
2. **[373. Find K Pairs with Smallest Sums](https://leetcode.com/problems/find-k-pairs-with-smallest-sums/)**   
3. **[378. Kth Smallest Element in a Sorted Matrix](https://leetcode.com/problems/kth-smallest-element-in-a-sorted-matrix/)**

### **Two Heaps Pattern**
1. **[295. Find Median from Data Stream](https://leetcode.com/problems/find-median-from-data-stream/)**   
2. **[480. Sliding Window Median](https://leetcode.com/problems/sliding-window-median/)**
3. **[502. IPO](https://leetcode.com/problems/ipo/)**

---

### **Minimum Number Pattern**

1. **[1167. Minimum Cost to Connect Sticks](https://leetcode.com/problems/minimum-cost-to-connect-sticks/)**   
2. **[253. Meeting Rooms II](https://leetcode.com/problems/meeting-rooms-ii/)**   
3. **[759. Employee Free Time](https://leetcode.com/problems/employee-free-time/)**   
4. **[857. Minimum Cost to Hire K Workers](https://leetcode.com/problems/minimum-cost-to-hire-k-workers/)**   
5. **[621. Task Scheduler](https://leetcode.com/problems/task-scheduler/)**   
6. **[871. Minimum Number of Refueling Stops](https://leetcode.com/problems/minimum-number-of-refueling-stops/)**

---

```
This post is to deep dive into one of the most fundamental data structures called Heap. The objective of this post is to understand the basics of Heap, time complexities, and identify patterns when to use Heap as a data structure.

Heap questions are one of the most common questions frequently asked in interviews.

The confidence in HEAP data structure is guranteed if you finish below mentioned 23 questions.

What is Heap?

    It is mainly used to represent a priority queue.
    It is represented as a Binary Tree (a tree structure where a node of a tree has a maximum of two child nodes). Heaps are complete binary trees.
    A simple array can be used to represent a Heap where array indices refer to the node position in the tree.
    Parent and child nodes can be accessed with indices:
        A root node｜i = 0, the first item of the array
        A parent node｜parent(i) = i / 2
        A left child node｜left(i) = 2i
        A right child node｜right(i)=2i+1
    Two type of Heaps — Min Heap, Max Heap
    Min Heap — the parent node always has a smaller value than the child nodes.
    Max Heap — the parent node is always larger than the child node value.
    Usually, when a type is not mentioned, it refers to the MinHeap. Python Heap has minHeap as default.
    In python, theheapqmodule provides the basic features for Heap data structure.
    minHeap are used in tasks related to scheduling or assignment. A more detailed explanation is under the Patterns section below.

Heap Operations

The basic operations in Python heapq are:

heapify
The heapify operation converts the iterable array heap into a tree structure w.r.t heap order.

heappush
It inserts an element into the heap. Post insertion the heap order is adjusted to maintain the heap properties.

import heapq as hq
# Simple array is heap
minHeap = []
# Adding an element to the heap
hq.heappush(minHeap, 5)

heappop
This operation is to remove the element from the heap. By default it is minHeap, so this operation removes the min element from the minHeap. And for maxHeap, it is the maximum element. Post removal, heapify is called internally to maintain the heap order.

import heapq as hq
minHeap = [5, 6, 2]
# this is done to convert iterable into a heap tree
hq.heapify(minHeap) 
# Getting top element from the heap
value = hq.heappop(minHeap) # the value here is 2 as 2 is the minimum value. 

Other operations in heapq python module includes heappushpop ,heapreplace , nlargest , nsmallest .

A simple Python implementation of MIN HEAP

class MinHeap:
  """
  Min Heap Implementaion
  """
  
  def __init__(self, array):
    """Initialization method."""
      
    # Build heap. Below statement is to convert 
    # an array into heap order. This is similar to 
    # heapq.heapify
      
    self.heap = self.buildHeap(array)

  # TC O(N) | SC O(1) 
  def buildHeap(self, array):
    """Build heap from iterable"""
    
    firstParentIdx = (len(array)-2)//2
    for currentIdx in reversed(range(firstParentIdx + 1)):
      self.siftDown(currentIdx, len(array) - 1, array)
    return array

  # TC O(logN) | SC O(1) 
  def siftDown(self, currentIdx, endIdx, heap):
    """Sifting down operation moves the value successively
    down the tree if its childer has smaller value.
    This is done to maintain the heap order.
    """
    childOneIdx = (2*currentIdx) + 1
    while childOneIdx < len(heap):
      childTwoIdx = (2*currentIdx) + 2 if currentIdx*2+2 <= endIdx else -1
      if childTwoIdx != -1 and heap[childTwoIdx] < heap[childOneIdx]:
        idxToSwap = childTwoIdx
      else:
        idxToSwap = childOneIdx
      if heap[idxToSwap] < heap[currentIdx]:
        self.swap(currentIdx, idxToSwap, heap)
        currentIdx = idxToSwap
        childOneIdx = currentIdx * 2 +1
      else:
        break

  # TC O(logN) | SC O(1) 
  def siftUp(self, currentIdx, heap):
    """
    It is exact opposite of sift down. 
    """
    parent = (currentIdx-1)//2
    while currentIdx > 0 and heap[parent] > heap[currentIdx]:
      self.swap(parent, currentIdx, heap)
      currentIdx = parent
      parentIdx = (currentIdx-1)//2
		
  # TC O(1) | SC O(1) 
  def peek(self):
    """Get the top value of the heap.
    It returns the smallest value in min heap.
    """
    return self.heap[0]

  # TC O(logN) | SC O(1) 
  def remove(self):
    """
    Removing an element from heap. 
    This is similar to heaq.heappop
    """
    self.swap(0, len(self.heap)-1, self.heap)
    valueToRemove = self.heap.pop()
    self.siftDown(0, len(self.heap)-1, self.heap)
    return valueToRemove

  # TC O(logN) | SC O(1) 
  def insert(self, value):
    """
    Inserting an element in the heap. 
    Similar to heappush operation. 
    """
    self.heap.append(value)
    self.siftUp(len(self.heap)-1, self.heap)

  def swap(self, i, j , heap):
    """Swap two elements in an array"""
    heap[i], heap[j] = heap[j], heap[i]

Problem Patterns where HEAP is used

Based on my understanding, different questions where HEAP is common data structure to use can be categorized in following 4 categories:

    Top K Pattern
    Merge K Sorted Pattern
    Two Heaps Pattern
    Minimum Number Pattern

All questions under one patterns has some similarities in terms of using HEAP as a data structure. Completing these questions would gurantee you mastery on the HEAP data structure. Below list includes some of the most common questions asked in most of the companies.

Top K Pattern

LC #215 - Kth largest number in an array
LC #973 - K closest points to origin
LC #347 - Top k frequent elements/numbers
LC #692 - Top k frequent words
LC #264 - Ugly Number II
LC #451 - Frequency Sort
LC #703 - Kth largest number in a stream
LC #767 - Reorganize String
LC #358 - Rearrange string K distance apart
LC #1439 - Kth smallest sum of a matrix with sorted rows

Merge K sorted pattern

LC #23 - Merge K sorted
LC #373 - K pairs with the smallest sum
LC #378 - K smallest numbers in M-sorted lists

Two Heaps Pattern

LC #295 - Find median from a data stream
LC #480 - Sliding window Median
LC #502 - Maximize Capital/IPO

Minimum number Pattern

LC #1167 - Minimum Cost to connect sticks/ropes
LC #253 - Meeting Rooms II
LC #759 - Employee free time
LC #857 - Minimumcost to hire K workers
LC #621 - Minimum number of CPU (Task scheduler)
LC #871 - Minimum number of Refueling stops

I'll be editing this post soon with more detailed explanation on each of the patterns. Till then keep leetcoding. Identify as many patterns and you would be able to solve pretty much every question.
```
